<?xml version="1.0" encoding="utf-8" ?>
<TestSuiteProject>
  <!--
      Test CDO Pricers
    -->
  <fixture name="CDO0000015"
    class="TestCdoExactJtd"
    excludeMethods="VaR,ImpliedVolatility, ScenarioWithDefault,RateSensitivityWithMultipleDiscountCurves"
    BasketDataFile="data/CDO0000015_Basket070112_3.xml"
    ExpectsFileName="data/expects/TestCDO0000015_ExactJtd.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    WithGenericSensitivity="false"
    />
  
  <fixture
    description="Test base correlation sensitivity consistencies among different methods: by point, by tenor etc."
    class="TestBaseCorrelationSensitivityMethodConsistency"
    ConfigUseNaturalSettlement="true"
    ConfigIncludeMaturityAccrual="true"
    ConfigIncludeMaturityProtection="true"
    ConfigUseConsistentCashflowEffective="true"
    ConfigCdsIncludeMaturityAccrual="true"
    ConfigCdsIncludeMaturityProtection="true"
    ConfigUseCashflowMaturity="true"
    ConfigCfModelDiscountingAccrued="false"
    ConfigUseOriginalNotionalForFee="false"
    ConfigUseCashflowStream="false"
  />
  <fixture
    description="Test if theta sensitivity changes the cdo pricer state by checking if BE are same before and after"
    class="TestThetaNotChangeCDOPricer"
  
    ConfigUseNaturalSettlement="true"
    ConfigIncludeMaturityAccrual="true"
    ConfigIncludeMaturityProtection="true"
    ConfigUseConsistentCashflowEffective="true"
    ConfigCdsIncludeMaturityAccrual="true"
    ConfigCdsIncludeMaturityProtection="true"
    ConfigUseCashflowMaturity="true"
    ConfigCfModelDiscountingAccrued="false"
    ConfigUseOriginalNotionalForFee="false"
    ConfigUseCashflowStream="false"
  />
  <fixture name="TestRiskyDurationAdjustment"
    class="TestRiskyDurationAdjusted"
    ConfigUseNaturalSettlement="true"
    ConfigIncludeMaturityAccrual="true"
    ConfigIncludeMaturityProtection="true"
    ConfigUseConsistentCashflowEffective="true"
    ConfigCdsIncludeMaturityAccrual="true"
    ConfigCdsIncludeMaturityProtection="true"
    ConfigUseCashflowMaturity="true"
    ConfigCfModelDiscountingAccrued="false"
    ConfigUseOriginalNotionalForFee="false"
    ConfigUseCashflowStream="false"
  />
  <fixture name="TestMixedSurfaceSensitivity"
    class="TestCDO"
    excludeMethods="all"
    selectMethods="CorrelationSensitivity"
    BasketDataFile="data/CDO000013.xml"
    CorrlationDataFile="data/CDO00013BaseCorrData.xml"
    ExpectsFileName="data/expects/TestCDO0000131.expects"
    BasketType="SemiAnalytic"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    CorrelationSensitivityParam="0.01,0,false,true,Parallel,false,false"
    ConfigUseCurveRecoveryForBaseCorrelation="true"
    ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="TestMixedSurfaceSensitivity2"
  class="TestCDO"
  excludeMethods="all"
  selectMethods="CorrelationSensitivity"
  BasketDataFile="data/CDO000013.xml"
  CorrlationDataFile="data/CDO00013BaseCorrData.xml"
  ExpectsFileName="data/expects/TestCDO0000132.expects"
  BasketType="SemiAnalytic"
  UseCashflowStreamPricer="false"
  RescaleStrikes="false"
  CorrelationSensitivityParam="0.01,0,false,true,ByTenor,false,false"
  ConfigUseCurveRecoveryForBaseCorrelation="true"
  ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="TestMixedSurfaceSensitivity3"
class="TestCDO"
excludeMethods="all"
selectMethods="CorrelationSensitivity"
BasketDataFile="data/CDO000013.xml"
CorrlationDataFile="data/CDO00013BaseCorrData.xml"
ExpectsFileName="data/expects/TestCDO0000133.expects"
BasketType="SemiAnalytic"
UseCashflowStreamPricer="false"
RescaleStrikes="false"
CorrelationSensitivityParam="0.01,0,false,true,Uniform,false,false"
ConfigUseCurveRecoveryForBaseCorrelation="true"
ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="TestMixedSurfaceSensitivity-4"
  class="TestCDO"
  excludeMethods="all"
  selectMethods="CorrelationSensitivity"
  BasketDataFile="data/CDO000013.xml"
  CorrlationDataFile="data/CDO00013BaseCorrData.xml"
  ExpectsFileName="data/expects/TestCDO0000134.expects"
  BasketType="SemiAnalytic"
  UseCashflowStreamPricer="false"
  RescaleStrikes="false"
  CorrelationSensitivityParam="0.01,0,true,true,Parallel,false,false"
  ConfigUseCurveRecoveryForBaseCorrelation="true"
  ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="TestMixedSurfaceSensitivity-5"
  class="TestCDO"
  excludeMethods="all"
  selectMethods="CorrelationSensitivity"
  BasketDataFile="data/CDO000013.xml"
  CorrlationDataFile="data/CDO00013BaseCorrData.xml"
  ExpectsFileName="data/expects/TestCDO0000135.expects"
  BasketType="SemiAnalytic"
  UseCashflowStreamPricer="false"
  RescaleStrikes="false"
  CorrelationSensitivityParam="0.01,0,true,true,ByTenor,false,false"
  ConfigUseCurveRecoveryForBaseCorrelation="true"
  ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="TestMixedSurfaceSensitivity-6"
class="TestCDO"
excludeMethods="all"
selectMethods="CorrelationSensitivity"
BasketDataFile="data/CDO000013.xml"
CorrlationDataFile="data/CDO00013BaseCorrData.xml"
ExpectsFileName="data/expects/TestCDO0000136.expects"
BasketType="SemiAnalytic"
UseCashflowStreamPricer="false"
RescaleStrikes="false"
CorrelationSensitivityParam="0.01,0,true,true,Uniform,false,false"
ConfigUseCurveRecoveryForBaseCorrelation="true"
ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="TestMixedSurfaceSensitivity-7"
class="TestCDO"
excludeMethods="all"
selectMethods="CorrelationSensitivity"
BasketDataFile="data/CDO000013.xml"
CorrlationDataFile="data/CDO00013BaseCorrData.xml"
ExpectsFileName="data/expects/TestCDO0000137.expects"
BasketType="SemiAnalytic"
UseCashflowStreamPricer="false"
RescaleStrikes="false"
CorrelationSensitivityParam="0.01,0,true,true,Parallel,false,true"
ConfigUseCurveRecoveryForBaseCorrelation="true"
ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="TestMixedSurfaceSensitivity-8"
  class="TestCDO"
  excludeMethods="all"
  selectMethods="CorrelationSensitivity"
  BasketDataFile="data/CDO000013.xml"
  CorrlationDataFile="data/CDO00013BaseCorrData.xml"
  ExpectsFileName="data/expects/TestCDO0000138.expects"
  BasketType="SemiAnalytic"
  UseCashflowStreamPricer="false"
  RescaleStrikes="false"
  CorrelationSensitivityParam="0.01,0,true,true,ByTenor,false,true"
  ConfigUseCurveRecoveryForBaseCorrelation="true"
  ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="TestMixedSurfaceSensitivity-9"
class="TestCDO"
excludeMethods="all"
selectMethods="CorrelationSensitivity"
BasketDataFile="data/CDO000013.xml"
CorrlationDataFile="data/CDO00013BaseCorrData.xml"
ExpectsFileName="data/expects/TestCDO0000139.expects"
BasketType="SemiAnalytic"
UseCashflowStreamPricer="false"
RescaleStrikes="false"
CorrelationSensitivityParam="0.01,0,true,true,Uniform,false,true"
ConfigUseCurveRecoveryForBaseCorrelation="true"
ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="MixedSurface Sensitivities1"
    class="TestCDO"
    excludeMethods="all"
    selectMethods="BreakEvenPremium,Pv,Spread01,Spread01_RescaleStrikes,UpFrontFeePv"
    BasketDataFile="data/CDO000013_1.xml"
    CorrlationDataFile="data/CDO00013BaseCorrData.xml"
    ExpectsFileName="data/expects/TestCDO000013_Sensitivities1.expects"
    BasketType="SemiAnalytic"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    CorrelationSensitivityParam="0.01,0,false,true,Parallel,false,false"
    ConfigUseCurveRecoveryForBaseCorrelation="true"
    ConfigCdoUseOriginalNotionalForFee="false"
    />
  <fixture name="MixedSurface Sensitivities2"
    class="TestCDO"
    excludeMethods="all"
    selectMethods="BreakEvenPremium,Pv,Spread01,Spread01_RescaleStrikes,UpFrontFeePv"
    BasketDataFile="data/CDO000013_1.xml"
    CorrlationDataFile="data/CDO00013BaseCorrData.xml"
    ExpectsFileName="data/expects/TestCDO000013_Sensitivities1.expects"
    BasketType="SemiAnalytic"
    UseCashflowStreamPricer="false"
    UseSensitivities2="true"  UseCache="true"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    CorrelationSensitivityParam="0.01,0,false,true,Parallel,false,false"
    ConfigUseCurveRecoveryForBaseCorrelation="true"
    ConfigCdoUseOriginalNotionalForFee="false"
    />

  <fixture name="CDO0000015 Sensitivities1"
    class="TestCDO"
    excludeMethods="VaR,ImpliedVolatility, ScenarioWithDefault,RateSensitivityWithMultipleDiscountCurves"
    BasketDataFile="data/CDO0000015_Basket070112_1.xml"
    ExpectsFileName="data/expects/TestCDO0000015_Senstivities1_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    WithGenericSensitivity="true"
    />
  <fixture name="CDO0000015 Sensitivities1 ByTenor"
    class="TestCDO"
    excludeMethods="all"
    selectMethods="Pv,SpreadSensitivity,SpreadSensitivity_RescleStrikes,Theta"
    BasketDataFile="data/CDO0000015_Basket070112_1.xml"
    ExpectsFileName="data/expects/TestCDO0000015_Senstivities1_ByTenor_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,ByTenor,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,ByTenor,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,ByTenor,true"
    WithGenericSensitivity="true"
    ReorderResultTable="True"
    />
  <fixture name="CDO0000015 Sensitivities2"
    class="TestCDO"
    excludeMethods="VaR,ImpliedVolatility, ScenarioWithDefault"
    BasketDataFile="data/CDO0000015_Basket070112_1.xml"
    ExpectsFileName="data/expects/TestCDO0000015_Senstivities1_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    UseSensitivities2="true"  UseCache="true"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    WithGenericSensitivity="true"
    />
  <fixture name="CDO0000015 Sensitivities2 ByTenor"
    class="TestCDO"
    excludeMethods="all"
    selectMethods="Pv,SpreadSensitivity,SpreadSensitivity_RescleStrikes,Theta"
    BasketDataFile="data/CDO0000015_Basket070112_1.xml"
    ExpectsFileName="data/expects/TestCDO0000015_Senstivities1_ByTenor_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    UseSensitivities2="true"  UseCache="true"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,ByTenor,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,ByTenor,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,ByTenor,true"
    WithGenericSensitivity="true"
    ReorderResultTable="True"
    />
  <fixture name="SemiAnalytic Sensitivities1 ByTenor"
    class="TestCDO"
    excludeMethods="all"
    selectMethods="Pv,SpreadSensitivity,SpreadSensitivity_RescleStrikes,Theta"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple_ByTenor.expects"
    BasketType="SemiAnalytic"
    UseCashflowStreamPricer="false"
    IR01Param="4,0,false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,ByTenor,true,true,5Y"
    SpreadSensitivityBumpTenors="1Y,5Y"
    RateSensitivityParam="0,1,1,false,false,ByTenor,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,ByTenor,true"
    ReorderResultTable="True"
    />
  <fixture name="SemiAnalytic Sensitivities2 ByTenor"
    class="TestCDO"
    excludeMethods="all"
    selectMethods="Pv,SpreadSensitivity,SpreadSensitivity_RescleStrikes,Theta"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple_ByTenor.expects"
    BasketType="SemiAnalytic"
    UseCashflowStreamPricer="false"
    UseSensitivities2="true"  UseCache="true"
    IR01Param="4,0,false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,ByTenor,true,true,5Y"
    SpreadSensitivityBumpTenors="1Y,5Y"
    RateSensitivityParam="0,1,1,false,false,ByTenor,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,ByTenor,true"
    ReorderResultTable="True"
    />

  <fixture name="TestCDO0000015 QCR"
    class="TestCDO"
    excludeMethods="VaR,ImpliedVolatility, ScenarioWithDefault"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDO0000015_QCR.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    QcrModel="ZeroOne"
  />
  <fixture name="TestCDO0000015 FixedRecovery"
    class="TestCDO"
    excludeGroups="SummaryRiskMethods, RiskMethods"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDO0000015_FixedRecovery_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    FixedRecoveryRate="0.7"
    />
  <fixture name="TestCDO0000015 FixedRecovery w QCR"
    class="TestCDO"
    excludeMethods="VaR,ImpliedVolatility, ScenarioWithDefault"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDO0000015_FixedRecovery_w_QCR.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    FixedRecoveryRate="0.7"
    QcrModel="ZeroOne"
  />
  <fixture name="TestCDO0000015 CounterpartyRisks"
    class="TestCDO"
    excludeMethods="VaR,ImpliedVolatility, ScenarioWithDefault"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDO0000015_CounterpartyRisks_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    CounterpartyHazardRate="0.5"
  />
  <fixture name="TestCDO0000015 GenericSensitivity"
    class="TestCDO"
    excludeMethods="VaR,ImpliedVolatility, ScenarioWithDefault"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDO0000015_GenericSenstivity_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    WithGenericSensitivity="true"
    />
  <fixture smoke="true"
      description="Test qCDOCalcImpliedMarketDelta"
      class="TestCDOMarketTrancheDelta"
      assembly="QUnitTest.dll"
      BasketDataFile="data/TestMarketTrancheDelta_BasketData.xml"
      ExpectsFileName="data/expects/TestMarketTrancheDelta.expects"
    />
  <fixture name="TestCDO Tonga Correlation Mixed"
      class="TestCDO"
      excludeMethods="ImpliedVolatility,ImpliedVolatilityLogNormal,VaR,CCRCdoPricerDeserialize,FastPv "
      excludeGroups="RiskMethods,SummaryRiskMethods,SARiskMethods"
      ExpectsFileName="data/expects/TestCDO_Tonga_0803013.expects"
      BasketDataFile="data/Tonga_Basket_080313.xml"
      CreditDataFile="data/Tonga_Credit_080313.xml"
      LiborDataFile="data/USD_LIBOR_080313.xml"
      CorrlationDataFile="data/CorrelationMix_080313.xml"
      BasketType="SemiAnalytic" UseCashflowStreamPricer="false"
      SpreadHedgeParam="5Y,1,1"
      SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
      RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
      DefaultSensitivityParam="true,5Y"
      RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO Pricer Homoegeneous"
    class="TestCDO" IgnoreTimingWarnings="true"
    excludeMethods="ImpliedVolatility,RecoverySensitivity,RecoverySensitivity_RescaleStrikes,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple.expects"
    BasketType="Homogeneous" UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO0020 Heterogeneous"
    class="TestCDO" IgnoreTimingWarnings="true"
    excludeMethods="ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO_Pricer_Basket0020.xml"
    ExpectsFileName="data/expects/TestCDO0020_Simple.expects"
    BasketType="Heterogeneous"
    GridSize="0.005"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture  name="TestCDO0020 SemiAnalytic"
    class="TestCDO"
    excludeMethods="ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO_Pricer_Basket0020.xml"
    ExpectsFileName="data/expects/TestCDO0020_Simple.expects"
    BasketType="SemiAnalytic"
    GridSize="0.005"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO Heterogeneous with Cashflow"
    class="TestCDO" IgnoreTimingWarnings="true"
    excludeMethods="ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple.expects"
    BasketType="Heterogeneous"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO Heterogeneous with CashflowStream"
    class="TestCDO" IgnoreTimingWarnings="true"
    excludeMethods="ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple.expects"
    BasketType="Heterogeneous"
    UseCashflowStreamPricer="true"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO SemiAnalytic Sensitivities2"
    class="TestCDO"
    excludeMethods="ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple.expects"
    BasketType="SemiAnalytic"
    UseCashflowStreamPricer="false"
    UseSensitivities2="true"
    IR01Param="4,0,false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO SemiAnalytic with Cashflow"
    class="TestCDO"
    excludeMethods="ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple.expects"
    BasketType="SemiAnalytic"
    UseCashflowStreamPricer="false"
    IR01Param="4,0,false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture   name="TestCDO SemiAnalytic with CashflowStream"
    class="TestCDO"
    excludeMethods="ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple.expects"
    BasketType="SemiAnalytic"
    UseCashflowStreamPricer="true"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture class="TestCDO"  name="TestCDO Pricer StudentT"
    excludeMethods="ImpliedVolatility,AccumulatedLossException"
    excludeGroups="RiskMethods,SARiskMethods"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple_StudentT.expects"
    CopulaData="StudentT,7,7"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture class="TestCDO"  name="TestCDO Pricer DoubleT"
    excludeMethods="ImpliedVolatility,AccumulatedLossException"
    excludeGroups="RiskMethods,SummaryRiskMethods,SARiskMethods"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple_DoubleT.expects"
    CopulaData="DoubleT,2,2"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture class="TestCDO"  name="TestCDO Pricer Clayton"
    excludeMethods="ImpliedVolatility,AccumulatedLossException"
    excludeGroups="RiskMethods,SARiskMethods"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple_Clayton.expects"
    CopulaData="Clayton,7,7"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture class="TestCDO"  name="TestCDO Pricer Frank"
    excludeMethods="ImpliedVolatility,AccumulatedLossException"
    excludeGroups="RiskMethods,SARiskMethods"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple_Frank.expects"
    CopulaData="Frank,7,7"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture class="TestCDO"  name="TestCDO Pricer Gumbel"
    excludeMethods="ImpliedVolatility,AccumulatedLossException"
    excludeGroups="RiskMethods,SARiskMethods"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_Simple_Gumbel.expects"
    CopulaData="Gumbel,7,7"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO0000015 Heterogeneous"
    class="TestCDO" IgnoreTimingWarnings="true"
    excludeMethods="VaR,ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDO_CDO0000015_BaseCorrelation_070112_%platform%.expects"
    BasketType="Heterogeneous"
    GridSize="0.005"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO0000015 SemiAnalytic"
    class="TestCDO"
    excludeMethods="VaR,ImpliedVolatility,ScenarioWithDefault,FiniteDifferenceCompareSA,FiniteDifferenceCompareSARS,FiniteDifferenceCompareCorrelationSARS"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDO_CDO0000015_BaseCorrelation_070112_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.005"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO0000015 Heterogeneous with Defaulted Name"
    class="TestCDO" IgnoreTimingWarnings="true"
    excludeMethods="VaR,ImpliedVolatility,AccumulatedLossException,ScenarioWithDefault"
    BasketDataFile="data/CDO0000015_Basket_w_Defaulted.xml"
    ExpectsFileName="data/expects/TestCDO_CDO0000015_ with_Defaulted_Name_%platform%.expects"
    BasketType="Heterogeneous"
    GridSize="0.005"
    RescaleStrikes="false"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO0000015 SemiAnalytic with Defaulted Name"
    class="TestCDO"
    excludeMethods="VaR,ImpliedVolatility,ScenarioWithDefault"
    BasketDataFile="data/CDO0000015_Basket_w_Defaulted.xml"
    ExpectsFileName="data/expects/TestCDO_CDO0000015_ with_Defaulted_Name_%platform%.expects"
    BasketType="SemiAnalytic"
    GridSize="0.005"
    RescaleStrikes="false"
    UseCashflowStreamPricer="false"
    SpreadHedgeParam="5 Years,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
    DefaultSensitivityParam="true,5 Years"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture name="TestCDO0000015 SemiAnalytic with Unsettled Default"
           class="TestCDO"
           excludeMethods="VaR,ImpliedVolatility,ScenarioWithDefault"
           BasketDataFile="data/CDO0000015_Basket_w_Unsettled_Defaults.xml"
           ExpectsFileName="data/expects/CDO0000015_Basket_w_Unsettled_Defaults_%platform%.expects"
           BasketType="SemiAnalytic"
           GridSize="0.005"
           RescaleStrikes="false"
           UseCashflowStreamPricer="false"
           SpreadHedgeParam="5 Years,1,1"
           SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5 Years"
           RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Years,true"
           DefaultSensitivityParam="true,5 Years"
           RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
  />

  <fixture
    class="TestJTD_At_DifRecovRates"
    assembly="QUnitTest.dll"
    BasketDataFile="pricers/JTD_At_Diff_RecoveryRates.xml"
    ExpectsFileName="data/expects/TestJTD_At_DifRecovRates.expects"
    />
  <fixture
    class="TestCDODefaultScenario"
    assembly="QUnitTest.dll"
  />

  <!--
      Test CDO Solver
    -->
  <fixture name="TestCDOSolver_CDO0000015 Heterogeneous"
    class="TestCDOSolver" IgnoreTimingWarnings="true"
    excludeMethods="VaR,ImpliedVolatility"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDOSolver_CDO0000015_BaseCorrelation_070112.expects"
    BasketType="Heterogeneous"
    GridSize="0.005"
    UseCashflowStreamPricer="false"
    FlatPvTarget="673753"
    FullPvTarget="713753"
    FeeTarget="-0.03369"
    SpreadTarget="241.58"
    />
  <fixture  name="TestCDOSolver_CDO0000015 SemiAnalytic"
    class="TestCDOSolver"
    excludeMethods="VaR,ImpliedVolatility"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDOSolver_CDO0000015_BaseCorrelation_070112.expects"
    BasketType="SemiAnalytic"
    GridSize="0.005"
    UseCashflowStreamPricer="false"
    FlatPvTarget="673753"
    FullPvTarget="713753"
    FeeTarget="-0.03369"
    SpreadTarget="241.58"
    />
  <fixture  name="TestCDOSolver_SmallTolerance SemiAnalytic"
    class="TestCDOSolver"
    excludeMethods="VaR,ImpliedVolatility"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    ExpectsFileName="data/expects/TestCDOSolver_CDO0000015_BaseCorrelation_070112.expects"
    BasketType="SemiAnalytic"
    GridSize="0.005"
    UseCashflowStreamPricer="false"
    FlatPvTarget="673753"
    FullPvTarget="713753"
    FeeTarget="-0.03369"
    SpreadTarget="241.58"
    ToleranceX="1E-14"
    ToleranceF="1E-20"
    />
  <fixture name="TestCDOScenarios"
    class="TestCDO"
    excludeMethods="AccumulatedLossException,ProtectionPv,FeePvWithPremium,FlatFeePvWithPremium,
    UpFrontFeePv,FeePv,FullFeePv,FlatFeePv,Pv,FlatPrice,FullPrice,Accrued,BreakEvenPremium,
    BreakEvenFee,Premium01,LossToDate,NotionalToDate,FeeToDate,AccrualToDate,RiskyDuration,
    Carry,MTMCarry,ExpectedLoss,ExpectedSurvival,UpFrontValue,ImpliedVolatility,ImpliedVolatilityLogNormal,
    VaR,Spread01,Spread01_RescaleStrikes,SpreadGamma,SpreadGamma_RescaleStrikes,
    SpreadHedge,SpreadHedge_RescaleStrikes,IR01,IR01_RescaleStrikes,Recovery01,Recovery01_RescaleStrikes,
    VOD,VOD_RescaleStrikes,Theta,Theta_RescaleStrikes,SpreadSensitivity,SpreadSensitivity_RescleStrikes,
    RateSensitivity,RateSensitivity_RescaleStrikes,DefaultSensitivity,DefaultSensitivity_RescaleStrikes,
    RecoverySensitivity,RecoverySensitivity_RescaleStrikes,CorrelationSensitivity, 
    RateSensitivityWithMultipleDiscountCurves"
    excludeGroups="SARiskMethods"
    BasketDataFile="data/CDO0000015_Basket070112.xml"
    BasketType="SemiAnalytic"
    GridSize="0.0025"
    UseCashflowStreamPricer="false"
    RescaleStrikes="false"
    />
  <!--
      Test CDO Squared
    -->
  <fixture class="TestCDO"  name="TestCDO Squared Pricer"
    excludeMethods="ImpliedVolatility,VaR,AccumulatedLossException"
    excludeGroups="RiskMethods,SummaryRiskMethods,SARiskMethods,CCRCdoPricerDeserialize,FastPv"
      
    BasketDataFile="data/CDO_Squared_Basket.xml"
    ExpectsFileName="data/expects/TestCDO_CDO_Squared.expects"
    UseCashflowStreamPricer="false"
    />

  <fixture name="TestDiffInnerMaturitiesForCDO2"
    class="TestDiffInnerMaturitiesForCDO2"
    DiscountDataFile="data/IR_TestDiffMaturitiesCDO2.xml"
    CreditDataFile="data/CreditData_TestDiffMaturitiesCDO2.xml"
    ConfigUseNaturalSettlement="true"
    ConfigIncludeMaturityAccrual="true"
    ConfigIncludeMaturityProtection="true"
    ConfigUseConsistentCashflowEffective="true"
    ConfigCdsIncludeMaturityAccrual="true"
    ConfigCdsIncludeMaturityProtection="true"
    ConfigUseCashflowMaturity="true"
    ConfigCfModelDiscountingAccrued="false"
    ConfigUseOriginalNotionalForFee="false"
    ConfigUseCashflowStream="false"
    />
  <fixture name="TestRandomFactorLoadingForCDO2"
    class="TestRandomFactorLoadingForCDO2"
    DiscountDataFile="data/IR_TestDiffMaturitiesCDO2.xml"
    CreditDataFile="data/CreditData_TestDiffMaturitiesCDO2.xml"
    ConfigUseNaturalSettlement="true"
    ConfigIncludeMaturityAccrual="true"
    ConfigIncludeMaturityProtection="true"
    ConfigUseConsistentCashflowEffective="true"
    ConfigCdsIncludeMaturityAccrual="true"
    ConfigCdsIncludeMaturityProtection="true"
    ConfigUseCashflowMaturity="true"
    ConfigCfModelDiscountingAccrued="false"
    ConfigUseOriginalNotionalForFee="false"
    ConfigUseCashflowStream="false"
    />
  <fixture name="TestCDO2WithDefaults"
    class="TestCDO2WithDefaults"
    CreditDataFile="data/CreditData_TestDiffMaturitiesCDO2.xml"
    ConfigUseNaturalSettlement="true"
    ConfigIncludeMaturityAccrual="true"
    ConfigIncludeMaturityProtection="true"
    ConfigUseConsistentCashflowEffective="true"
    ConfigCdsIncludeMaturityAccrual="true"
    ConfigCdsIncludeMaturityProtection="true"
    ConfigUseCashflowMaturity="true"
    ConfigCfModelDiscountingAccrued="false"
    ConfigUseOriginalNotionalForFee="false"
    ConfigUseCashflowStream="false"
    />

  <!--
      Test CDO Option
    -->
  <fixture
    class="TestCDOOption"
    name="TestCDOOption_CDX.NA.IG.7_Receiver"
      
    ExpectsFileName="data/expects/TestCDOOption_CDX.NA.IG.7_Receiver.expects"
    LiborDataFile="data/USD.LIBOR_Data061212.xml"
    BasketDataFile="data/CDO_Pricer_Basket.xml"
    PricingDate="20061212"
    SettleDate="20061213"
    Notional="10000000"
    TrancheEffective="20060321"
    TrancheMaturity="20110620"
    DayCount="Actual360" Frequency="Quarterly" Roll="Following" Calendar="NYB"
    TranchePremium="40"
    MarketQuote="41"
    SpreadVolatility="0.4"
    OptionEffective="20061212"
    OptionExpiration="20070612"
    OptionStrike="42"
    OptionType="Receiver"
    OptionModel="Black"
    SpreadHedgeParam="5Y,1,1"
    SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
    RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
    DefaultSensitivityParam="true,5Y"
    RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
  <fixture class="TestCDOOption"
   name="TestCDOOption_CDX.NA.IG.7_Payer"
   ExpectsFileName="data/expects/TestCDOOption_CDX.NA.IG.7_Payer.expects"
   LiborDataFile="data/USD.LIBOR_Data061212.xml"
   BasketDataFile="data/CDO_Pricer_Basket.xml"
   PricingDate="20061212"
   SettleDate="20061213"
   Notional="10000000"
   TrancheEffective="20060321"
   TrancheMaturity="20110620"
   DayCount="Actual360" Frequency="Quarterly" Roll="Following" Calendar="NYB"
   TranchePremium="40"
   MarketQuote="41"
   SpreadVolatility="0.4"
   OptionEffective="20061212"
   OptionExpiration="20070612"
   OptionStrike="42"
   OptionType="Receiver"
   OptionModel="Black"
   SpreadHedgeParam="5Y,1,1"
   SpreadSensitivityParam="0,1,1,false,true,Parallel,true,true,5Y"
   RateSensitivityParam="0,1,1,false,false,Parallel,true,false,5 Yr,true"
   DefaultSensitivityParam="true,5Y"
   RecoverySensitivityParam="false,0.01,0.01,Parallel,true"
    />
</TestSuiteProject>